!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClockWidget=e():t.ClockWidget=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e),t.d(e,{ClockApp:()=>C});var r=function(){function t(e,n,r,s){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";i(this,t),this._context=e,this._xCenter=n,this._yCenter=r,this._radius=s,this._fillStyle=o}var e,r;return e=t,(r=[{key:"xCenter",get:function(){return this._xCenter},set:function(t){this._xCenter=t,this.render()}},{key:"yCenter",get:function(){return this._yCenter},set:function(t){this.yCenter=t,this.render()}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.render()}},{key:"render",value:function(){this._context.beginPath(),this._context.arc(this.xCenter,this.yCenter,this.radius,0,2*Math.PI),this._context.fillStyle=this._fillStyle,this._context.fill()}}])&&n(e.prototype,r),t}();function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(e,i,n,r,s,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._xCenter=i,this._yCenter=n,this._innerRadius=r,this._outerRadius=s,this._isRingFilled=o||!1,this._color=a}var e,i;return e=t,(i=[{key:"render",value:function(){if(this._isRingFilled){var t=(this._innerRadius+this._outerRadius)/2,e=this._outerRadius-this._innerRadius;this._context.beginPath(),this._context.strokeStyle=this._color,this._context.arc(this._xCenter,this._xCenter,t,0,2*Math.PI),this._context.lineWidth=e,this._context.stroke()}else{var i=new r(this._context,this._xCenter,this._yCenter,this._innerRadius,this._color),n=new r(this._context,this._xCenter,this._yCenter,this._outerRadius,this._color);i.render(),n.render()}}}])&&s(e.prototype,i),t}();function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e,i,n,r,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._position=i,this._length=n,this._width=r,this._fillColor=s}var e,i;return e=t,(i=[{key:"position",get:function(){return this._position},set:function(t){this._position=t,this.render()}},{key:"render",value:function(){this._context.beginPath(),this._context.lineWidth=this._width,this._context.lineCap="round",this._context.moveTo(0,0),this._context.rotate(this._position),this._context.strokeStyle=this._fillColor,this._context.lineTo(0,-this._length),this._context.stroke(),this._context.rotate(-this._position)}}])&&a(e.prototype,i),t}(),c={width:300,height:300,fillColor:"#FFFFFF",isBorderFilled:!0,watchFace:"FACE_1",displayTime:new Date,displayConstantTime:!1,hingeColor:"#333",handColor:"#333",frameGradientColorList:["#333","#FFFFFF","#333"]};function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _=function(){function t(e,i,n,s,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._xCenter=i,this._yCenter=n,this._radius=s,this._faceConfig=o,this._isBorderFilled=o.isBorderFilled||c.isBorderFilled;var a=o.handColor||c.handColor;this._hourHand=new h(this._context,0,.5*s,.07*s,a),this._minuteHand=new h(this._context,0,.8*s,.07*s,a),this._secondHand=new h(this._context,0,.9*s,.02*s,a);var l=o.hingeColor||c.hingeColor;this._centerHinge=new r(this._context,0,0,.1*s,l);var _=o.fillColor||c.fillColor;this._outerCircle=new r(this._context,0,0,s,_)}var e,i;return e=t,(i=[{key:"hourHand",get:function(){return this._hourHand}},{key:"minuteHand",get:function(){return this._minuteHand}},{key:"secondHand",get:function(){return this._secondHand}},{key:"render",value:function(){if(this._outerCircle.render(),this._isBorderFilled&&this._faceConfig.isFrameGradient){for(var t=this._faceConfig.frameGradientColorList||c.frameGradientColorList,e=this._context.createRadialGradient(this._xCenter,this._yCenter,.95*this._radius,this._xCenter,this._yCenter,1.05*this._radius),i=0;i<t.length;i++){var n=i/(t.length-1);e.addColorStop(n,t[i])}this._context.strokeStyle=e,this._context.lineWidth=.1*this._radius,this._context.stroke()}else{var r=this._faceConfig.frameColor||c.hingeColor;new o(this._context,this._xCenter,this._yCenter,1.05*this._radius,.95*this._radius,this._isBorderFilled,r).render()}this._centerHinge.render(),this.drawNumbers()}},{key:"drawNumbers",value:function(){var t,e,i=this._context;i.font=.15*this._radius+"px arial",i.textBaseline="middle",i.textAlign="center";var n=this._faceConfig||{},r=n.numberColors||{};for(e=1;e<13;e++)t=e*Math.PI/6,i.rotate(t),i.translate(0,.85*-this._radius),i.rotate(-t),r[e]?i.fillStyle=r[e]:i.fillStyle=n.hingeColor||"#333",i.fillText(e.toString(),0,0),i.rotate(t),i.translate(0,.85*this._radius),i.rotate(-t);i.fillStyle=n.hingeColor||"#333"}}])&&l(e.prototype,i),t}(),d={FACE_0:{isBorderFilled:!0,frameColor:"#660000",hingeColor:"#333",handColor:"#333"},FACE_1:{isFrameGradient:!0,frameGradientColorList:["#333","#FFFFFF","#333"],hingeColor:"#333",handColor:"#333"},FACE_2:{isFrameGradient:!0,frameGradientColorList:["#660000","#ff0000","#ffcccc"],hingeColor:"#660000"},FACE_3:{isFrameGradient:!0,frameGradientColorList:["#4d3d00","#ffcc00","#ffe680","#fffae6","#ffe680","#ffcc00","#4d3d00"],hingeColor:"#cca300",numberColors:{1:"#cca300",2:"#cca300",3:"#cca300",4:"#cca300",5:"#cca300",6:"#cca300",7:"#cca300",8:"#cca300",9:"#cca300",10:"#cca300",11:"#cca300",12:"#cca300"},fillColor:"#333333",handColor:"#cca300"},FACE_4:{isFrameGradient:!0,frameGradientColorList:["#ff0000","#00ff00","#0000ff"],hingeColor:"#660000",numberColors:{1:"#0059b3",2:"#00cc7a",3:"#4d94ff",4:"#ff33bb",5:"#ff9933",6:"#2d2d86",7:"#8600b3",8:"#800000",9:"#00e6e6",10:"#ffff00",11:"#0033cc",12:"#ff0000"},handColor:"#660000",frameColor:"#660000"}};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var C=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,t),this._rootElement=e,this._setConfigurations(i),this._initClockStructure(),this._initClockUi(),this.render(),this._initTimer()}var e,i;return e=t,(i=[{key:"configure",value:function(t){this._resetCanvasDimensionsSafe(t),this._setConfigurations(t),this._initClockUi(),this.render()}},{key:"render",value:function(){this._simpleFace.render(),this._renderTime()}},{key:"_renderTime",value:function(){this._displayConstantTime||(this._displayTime=new Date);var t=this._getTimeHrMmSs(this._displayTime),e=t.hour,i=t.minute,n=t.second;this._simpleFace.hourHand.position=e,this._simpleFace.minuteHand.position=i,this._simpleFace.secondHand.position=n}},{key:"_initClockStructure",value:function(){var t=this._getClockContainerEle(),e=this._getCanvas(this._canvasWidth,this._canvasHeight);this._rootElement.appendChild(t),t.appendChild(e)}},{key:"_initClockUi",value:function(){var t=this._clockCanvas.getContext("2d");t.resetTransform(),t.clearRect(0,0,this._canvasWidth,this._canvasHeight),t.translate(this._canvasWidth/2,this._canvasHeight/2),this._simpleFace=new _(t,0,0,this._clockRadius,this._currentFaceConfig)}},{key:"_initTimer",value:function(){this._displayConstantTime||(this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(this.render.bind(this),1e3))}},{key:"_setConfigurations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._canvasWidth=t.width||this._canvasWidth||c.width,this._canvasHeight=t.height||this._canvasHeight||c.height,this._clockRadius=t.radius||this._clockRadius||Math.min(this._canvasWidth,this._canvasHeight)/2-10,this._watchFace=t.watchFace||this._watchFace||c.watchFace,this._currentFaceConfig=t.faceConfig||d[t.watchFace]||this._currentFaceConfig||d[this._watchFace]||{},this._displayTime=t.displayTime||this._displayTime||c.displayTime,this._displayConstantTime=t.displayConstantTime||this._displayConstantTime||c.displayConstantTime}},{key:"_resetCanvasDimensionsSafe",value:function(t){var e=t.width,i=t.height;if((e||i)&&(e!=this._canvasWidth||i!=this._canvasHeight)){var n=this._clockCanvas.getContext("2d");n.canvas.width=e,n.canvas.height=i}}},{key:"_getCanvas",value:function(t,e){return this._clockCanvasElement||(this._clockCanvasElement=document.createElement("canvas"),this._clockCanvasElement.setAttribute("width",t),this._clockCanvasElement.setAttribute("height",e)),this._clockCanvasElement}},{key:"_getClockContainerEle",value:function(){return this._clockContainerElement||(this._clockContainerElement=document.createElement("div"),this._clockContainerElement.setAttribute("class","jq-clock")),this._clockContainerElement}},{key:"_getTimeHrMmSs",value:function(t){var e=t.getHours(),i=t.getMinutes(),n=t.getSeconds();return{hour:e=(e%=12)*Math.PI/6+i*Math.PI/360+n*Math.PI/21600,minute:i=i*Math.PI/30+n*Math.PI/1800,second:n=n*Math.PI/30}}}])&&f(e.prototype,i),t}();return e})()}));